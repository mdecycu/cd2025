<h1>About</h1>
<p>倉儲: <a href="https://github.com/mdecycu/cd2025">https://github.com/mdecycu/cd2025</a></p>
<p>網頁: <a href="https://mde.tw/cd2025">https://mde.tw/cd2025</a></p>
<p>課程目標:</p>
<p style="padding-left: 30px;">透過網際機電系統模擬與控制了解協同產品設計的特性與應用</p>
<p>教學要點:</p>
<p style="padding-left: 30px;">結合電腦輔助機電協同設計、模擬與控制, 了解程式設計在機械設計工程領域上的可行應用與發展.</p>
<p>先修課程:</p>
<p style="padding-left: 30px;">計算機程式 (Python)、電腦輔助設計與實習 (Solvespace、NX2312 與 CopeliaSim)</p>
<p>教學內容:</p>
<p style="padding-left: 30px;">協同產品設計概論</p>
<p style="padding-left: 30px;">機電系統模擬</p>
<p style="padding-left: 30px;">網際數位串流與機電系統控制</p>
<p style="padding-left: 30px;">協同分組專案</p>
<p style="padding-left: 30px;">協同分組報告</p>
<p>課程評分:</p>
<p style="padding-left: 30px;">出席並參與討論 (30%)</p>
<p style="padding-left: 30px;">期中協同專案執行、簡報與報告 (六人一組) (30%)</p>
<p style="padding-left: 60px;"><span>CoppeliaSim 與 Webots 虛實整合彈珠檯系統</span></p>
<p style="padding-left: 30px;"><span>期末協同專案執行、簡報與報告 (六人一組) (40%)</span></p>
<p style="padding-left: 60px;"><span>CoppeliaSim 與 Webots 虛實整合六方投籃機系統</span></p><h1>Projects</h1>
<p>每六人一組</p>
<p>協同專案:</p>
<ol>
<li>CoppeliaSim 虛實整合彈珠檯系統 <span>(Flipper, Bumper, Kicker, Score Board)</span></li>
<li>Webots <span>虛實整合彈珠檯系統 </span>(Flipper, Bumper, Kicker, Score Board)</li>
<li>CoppeliaSim 虛實整合六方投籃機系統</li>
<li><span>Webots 虛實整合六方投籃機系統</span></li>
</ol>
<p><span>期中專案報告 - 彈珠檯虛實整合系統</span></p>
<p style="padding-left: 30px;"><span>探討如何結合 Web 機電模擬場景 (CoppeliaSim 與 Webots) 以及 Arduino based 控制系統, 建置一個虛實整合彈珠檯系統</span></p>
<p><span>期末專案報告 - 六方投籃機虛實整合系統</span></p>
<p style="padding-left: 30px;"><span>探討如何結合 Web 機電模擬場景 (CoppeliaSim 與 Webots) 以及 Arduino based 控制系統, 建置一個虛實整合六方投籃機系統</span></p>
<hr/>
<p><a href="/downloads/pinball.7z">pinball.7z</a> (搖桿出口的感測器範圍過短, 若球離開球檯時未觸動感測器則無法重置至發球位置)</p>
<p style="padding-left: 30px;">彈珠檯場景的後續延伸應用:</p>
<p style="padding-left: 60px;">根據球與搖桿的位置, 了解能夠得最高分的左右搖桿作動時機</p>
<p style="padding-left: 60px;">利用球檯上方的 image sensor (等同是實體球檯上方的攝影機) 辨識球的位置, 然後根據上列能夠取得最高分的出手時機驅動搖桿.</p>
<p><iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen="allowfullscreen" frameborder="0" height="315" referrerpolicy="strict-origin-when-cross-origin" src="https://www.youtube.com/embed/bQqw8GayNzM?si=VOqMP0DDyIrN_G3R" title="YouTube video player" width="560"></iframe></p>
<p>學習使用運用 Webots 建立場景</p>
<p><a href="https://www.cyberbotics.com/doc/guide/index">https://www.cyberbotics.com/doc/guide/index</a></p>
<p><a href="https://robotics.stackexchange.com/questions/24227/how-to-import-a-3d-model-in-webots-r2022b">https://robotics.stackexchange.com/questions/24227/how-to-import-a-3d-model-in-webots-r2022b</a></p>
<p style="padding-left: 30px;"><a href="/downloads/vrmlman.pdf">vrmlman.pdf</a></p>
<p>如何與 CAD 整合</p>
<p>如何控制並建立 Pinball Machine 機電模擬系統</p>
<p>如何與 <a href="https://lcgamboa.github.io/">https://lcgamboa.github.io/</a> (<a href="https://github.com/lcgamboa/picsimlab">PICSimLab</a>) 結合應用</p>
<p>建立虛實整合彈珠檯系統</p>
<hr/>
<p><span>虛實整合</span><span>六方投籃機系統</span></p>
<p style="padding-left: 30px;">六個長方形球檯圍成一個圓圈, 各參與者前方各有一個可供投籃得分的籃框, 各籃框可繞順時鐘或逆時鐘不定時旋轉, 每個長方形球檯距離籃框一定距離處, 各設有一個投籃機構, 每一位操作者可以控制該機構投擲籃球的角度與起始速度將籃球投出.</p>
<p style="padding-left: 30px;">當遊戲開始計時 10 分鐘, 籃框開始轉動, 每位操作者投出球之後, 系統將自動在投籃處產生另一顆球, 當所投出的球其落點低於籃框高度後, 無論得分與否, 各參與者所投出的球將自動消失.</p>
<p style="padding-left: 30px;">各參與者一旦進入投籃場景, 其長方形球檯與綜合計分板將自動面對投射者. 計時結束後將取前三名領先者繼續下一輪排名競賽.</p>
<p style="padding-left: 30px;">Tasks:</p>
<p style="padding-left: 60px;">投籃機構設計</p>
<p style="padding-left: 60px;">籃框旋轉機構設計</p>
<p style="padding-left: 60px;">球檯與記分板面對操作者設計</p>
<p style="padding-left: 60px;">機電虛實整合系統設計</p>
<p style="padding-left: 60px;">第一階段計時結束後, 如何進入前三名排名賽</p>
<p style="padding-left: 30px;"></p><h2>Topics</h2>
<h4>CoppeliaSim</h4>
<p style="padding-left: 30px;">CoppeliaSim 彈珠檯場景的 .simscene.xml 檔案格式</p>
<h4>NXOpen</h4>
<p style="padding-left: 30px;">NX2312 彈珠檯零組件與 NXOpen Python 程式</p>
<h4>Flask</h4>
<p style="padding-left: 30px;">若可採網頁表單調控 NX2312 彈珠檯零組件的關鍵尺寸, 能否直接透過程式方法配置對應的 <span>CoppeliaSim 彈珠檯場景</span></p>
<h4><span>Mechanism Simulation and Synthesis</span></h4>
<p style="padding-left: 30px;">彈珠檯的 Flipper 機構能不能用來作為六<span>方投籃機系統的投籃機構? 能否在 Solvespace 或 Pyslvs-UI 中進行合成或模擬?</span></p>
<h4><span>Webots</span></h4>
<p style="padding-left: 30px;"><span>採 Solvespace 或 NX2312 繪製的彈珠檯零組件, 能否用來建立 Webots 的彈珠檯場景?</span></p>
<h4><span>Fossil SCM</span></h4>
<p style="padding-left: 30px;"><span>Fossil SCM 能否用來作為 STL 零件或上列專案的分散式版次管理系統, 用來取代 Github?</span></p><h2>Arduino</h2>
<p><a href="https://twcn.rs-online.com/web/p/arduino/1927590?cm_mmc=TW-PLA-DS3A-_-google-_-PLA_TW_CN_PMAX_Catch+All_20240802-_--_-&amp;matchtype=&amp;&amp;gad_source=1&amp;gclid=Cj0KCQiA4fi7BhC5ARIsAEV1YiYg5kjqmIJSowb7k9aCUhskQufU52_RIvST5HMF35G5RIQLNrQfJNsaAkPdEALw_wcB&amp;gclsrc=aw.ds">Arduino Nano Every</a></p>
<p><a href="https://shopee.tw/%E5%BD%88%E7%B0%A7-%E4%B8%8D%E9%8F%BD%E9%8B%BC%E5%A3%93%E7%B8%AE%E5%BD%88%E7%B0%A7-%E7%B7%9A%E5%BE%912.5mm-%E7%99%BD%E9%90%B5%E5%BD%88%E7%B0%A7-%E5%8F%B0%E4%B8%AD%E5%BD%88%E7%B0%A7%E5%BB%A0-AS002-i.10832548.11657695978?sp_atk=71b38018-5dce-4ff5-9bf0-67b51f122300">網購彈簧</a></p>
<p><a href="https://shopee.tw/search?category=11040925&amp;keyword=%E5%9C%93%E7%AE%A1%E6%9D%90&amp;subcategory=11040926&amp;thirdCategory=11040941">五金圓管</a></p>
<p><a href="https://zhenyu.shoplineapp.com/products/%E6%8C%89%E9%88%95%E9%96%8B%E9%97%9C-%E5%B9%B3%E9%A0%AD">平頭按鈕開關</a></p><h2>3D_Printer</h2>
<p><a href="https://sites.google.com/gs.nfu.edu.tw/test/%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BC%89%E5%B0%88%E5%8D%80">智慧學苑文件下載區</a></p>
<p><a href="https://docs.google.com/document/d/16EmqicFImypGciCE19V-146NWowf0I7M/edit?pli=1">零組件列印申請</a></p>
<h1>Summary</h1>
<p><object data="/images/cd2025.svg" height="1821" type="image/svg+xml" width="1547"></object></p>
<p><a href="https://mde.tw/mind-map/#/?fileURL=https%3A%2F%2Fmde.tw%2Fcd2025%2Fdownloads%2Fcd2025.smm">Edit cd2025.smm</a></p>
<h2>Product</h2>
<p>Product Development Process (產品開發過程)</p>
<p><img alt="" height="443" src="/images/product_development_process.png" width="400"/></p>
<p>(From <a href="https://link.springer.com/book/10.1007/978-981-19-9626-9">Fig. 1.2</a>)</p>
<p>Complex Product Assembly Process (複雜產品組立過程)</p>
<p><img alt="" height="236" src="/images/complex_product_assembly_process.png" width="400"/></p>
<p>(From <a href="https://link.springer.com/book/10.1007/978-981-19-9626-9">Fig. 1.4</a>)</p>
<p>Collaboration between Lifecycle Activities (生命週期活動間的協同)</p>
<p><img alt="" height="333" src="/images/collaboration_between_lifecycle_activities.png" width="400"/></p>
<p>(From <a href="https://link.springer.com/book/10.1007/978-981-19-9626-9">Table 2.1</a>)</p>
<p></p>
<p>References:</p>
<p style="padding-left: 30px;"><a href="https://link.springer.com/book/10.1007/978-3-642-58898-3">Geometric Constraint Solving and Application</a> (1998)</p>
<p style="padding-left: 60px;">The Semantics of Geometric Constraints</p>
<p style="padding-left: 60px;">Constraints for Conceptual and Collaborative Design</p>
<p style="padding-left: 60px;">Constraint Representation and Solving Methods</p>
<p style="padding-left: 60px;">Constraints for Freeform Surfaces</p>
<p style="padding-left: 30px;"><a href="https://link.springer.com/book/10.1007/978-3-642-60718-9">CAD Systems Development</a> (1997)</p>
<p style="padding-left: 30px;"><a href="https://link.springer.com/book/10.1007/978-1-4842-6415-7">Core Blender Development</a> (2021)</p>
<p style="padding-left: 30px;"></p>
<h2>Control</h2>
<p><a href="https://wokwi.com/">https://wokwi.com/</a></p>
<p><a href="https://docs.wokwi.com/">https://docs.wokwi.com/</a> </p>
<p><a href="https://wokwi.com/projects/375237011181407233">Wokwi, Arduino and Push Button</a></p>
<p><a href="https://wokwi.com/projects/298685457758159369">Wokwi, Arduino and Potentiometer</a></p>
<p><a href="https://wokwi.com/projects/394764949595110401">Wokwi, Arduino, Serial and Python</a></p>
<hr/>
<p><a href="https://wokwi.com/projects/320964045035274834">ESP32 Web server</a></p>
<p><a href="https://github.com/wokwi/wokwigw/releases">https://github.com/wokwi/wokwigw/releases</a> </p>
<p style="padding-left: 30px;"><a href="https://docs.wokwi.com/guides/esp32-wifi#the-private-gateway">https://docs.wokwi.com/guides/esp32-wifi#the-private-gateway</a> </p>
<p><a href="https://lcgamboa.github.io/picsimlab_docs/stable/OnlineSimulator.html">https://lcgamboa.github.io/picsimlab_docs/stable/OnlineSimulator.html</a> </p>
<p style="padding-left: 30px;"><a href="https://github.com/lcgamboa/picsimlab">https://github.com/lcgamboa/picsimlab</a> </p>
<p><a href="https://link.springer.com/chapter/10.1007/978-3-030-82544-7_24">HoRoSim, a Holistic Robot Simulator: Arduino Code, Electronic Circuits and Physics</a> (2021)</p>
<p style="padding-left: 30px;"><a href="https://github.com/scrum-1/horosim">https://github.com/scrum-1/horosim</a> </p>
<p></p>
<h2>CPS</h2>
<p>Cyber-Physical System</p>
<p>虛實整合系統</p>
<p>Arduino - Wokwi - Solvespace (NX2312) - Python - Webots</p>
<p>Webots:</p>
<p style="padding-left: 30px;"><a href="https://www.cyberbotics.com">https://www.cyberbotics.com</a></p>
<p style="padding-left: 30px;"><a href="https://github.com/cyberbotics/webots/discussions/2621">https://github.com/cyberbotics/webots/discussions/2621</a></p>
<p style="padding-left: 30px;"><a href="https://github.com/aidudezzz/deepbots">https://github.com/aidudezzz/deepbots</a> (<a href="https://deepbots.readthedocs.io">https://deepbots.readthedocs.io</a>)</p>
<p style="padding-left: 30px;"><a href="https://cad2.cycu.org/~yen/cad2023/content/PICSimLab.html">https://cad2.cycu.org/~yen/cad2023/content/PICSimLab.html</a></p>
<h4>Pinball</h4>
<p style="padding-left: 30px;"><a href="/downloads/pinball.7z">pinball.7z</a></p>
<p style="padding-left: 30px;"><a href="https://pinball.flutter.dev">https://pinball.flutter.dev</a> (<a href="https://github.com/flutter/pinball">https://github.com/flutter/pinball</a>, <a href="https://flutter.dev">https://flutter.dev</a>)</p>
<h4>Foosball</h4>
<p style="padding-left: 30px;"><a href="/downloads/cad2024_foosball_with_ball_python_script.7z">cad2024_foosball_with_ball_python_script.7z</a></p>
<p style="padding-left: 30px;"><a href="/downloads/cad2024_foosball.7z">cad2024_foosball.7z</a></p>
<p style="padding-left: 30px;"><a href="https://arxiv.org/html/2404.05357v2">CNN-based Game State Detection for a Foosball Table</a></p>
<h4>HoRoSim (使用 CoppeliaSim, 是否能夠轉進 Webots)</h4>
<p style="padding-left: 30px;"><a href="https://pure.itu.dk/ws/portalfiles/portal/86211605/2021RIE_HoRoSim_camera_ready.pdf">HoRoSim, a Holistic Robot Simulator: Arduino Code, Electronic Circuits and Physics</a></p>
<p style="padding-left: 30px;"><a href="https://bitbucket.org/afaina/horosim/src/master/">https://bitbucket.org/afaina/horosim/src/master/</a></p>
<h1>Ref</h1>
<p>Collaborative Design Projects (協同設計專案)</p><h2>Webots</h2>
<p><a href="https://mde.tw/content/Webots%20Doc.html">https://mde.tw/content/Webots%20Doc.html</a></p>
<p>Webots assets 儲存目錄 (容量約 831MB, 若包括 Webots 2025a 1GB, 整個系統約佔 2GB):</p>
<p>在 Windows 操作系統開啟 webotsw.exe:</p>
<p style="padding-left: 30px;">C:\Users\%USERNAME%\AppData\Local\Cyberbotics\Webots\cache\assets</p>
<p>在可攜程式環境中開啟 webotsw.exe:</p>
<p style="padding-left: 30px;">Y:\home_ipv6\AppData\Local\Cyberbotics\Webots\cache\assets</p>
<p>Stable version: <a href="http://229.cycu.org/Webots_2023b.7z">Webots_2023b.7z</a></p>
<p><span style="background-color: #ffff00;">1.</span> 與 <a href="http://229.cycu.org/python_2025_lite.7z">python_2025_lite.7z</a> 結合使用, Webots - Tools - Preferences - Python Command 設定為 Y:\Python310\python.exe</p>
<p><span style="background-color: #ffff00;">2.</span> start_ipv6.bat 必須設定:</p>
<pre class="brush:js;auto-links:false;toolbar:false" contenteditable="false">REM for Webots
set PYTHON_PATH=%Disk%:\Python310

REM for Webots
set  path_webots=%Disk%:\Webots_2023b\msys64\mingw64\bin

REM 在 path 納入 %path_webots%
path=~~;%path_webots%;%path%;</pre>
<p><span style="background-color: #ffff00;">3.</span> pip install opencv-python</p>
<p>配置完成後, 測試 Python 是否設定正確: <a href="/downloads/Webots_examples.zip">Webots_examples.zip</a> (<a href="https://courses.ideate.cmu.edu/16-375/f2024">source</a>)</p>
<p><a href="/downloads/vrml97specification.pdf">vrml97specification.pdf</a> (<a href="http://www.graphics.stanford.edu/courses/cs248-98-fall/Assignments/Assignment3/VRML2_Specification/">VRML 2.0</a>, <a href="https://zh.wikipedia.org/zh-tw/VRML">VRML</a>)</p>
<p><a href="https://github.com/Introduction-to-Autonomous-Robots/Introduction-to-Autonomous-Robots">https://github.com/Introduction-to-Autonomous-Robots/Introduction-to-Autonomous-Robots</a></p>
<p>Webots 原始碼: <a href="https://github.com/cyberbotics/webots">https://github.com/cyberbotics/webots</a></p>
<p>官方網站: <a href="https://cyberbotics.com/">https://cyberbotics.com/</a></p>
<p><a href="https://webots.cloud/">https://webots.cloud/</a></p>
<p><a href="https://www.cyberbotics.com/doc/guide/samples-howto?version=cyberbotics:R2023b">https://www.cyberbotics.com/doc/guide/samples-howto?version=cyberbotics:R2023b</a></p>
<p><a href="https://www.cyberbotics.com/doc/guide/index.php?version=cyberbotics:R2019a">https://www.cyberbotics.com/doc/guide/index.php?version=cyberbotics:R2019a</a></p>
<p>License: <a href="https://cyberbotics.com/doc/guide/webots-license-agreement">https://cyberbotics.com/doc/guide/webots-license-agreement</a></p>
<p><a href="https://cyberbotics.com/doc/guide/web-interface">https://cyberbotics.com/doc/guide/web-interface</a> (無法使用 Firefox 觀看)</p>
<p><a href="https://cyberbotics.com/doc/guide/web-server">https://cyberbotics.com/doc/guide/web-server</a> (<a href="https://github.com/cyberbotics/webots-server">Github</a>)</p>
<p><a href="https://cyberbotics.com/doc/guide/web-streaming">https://cyberbotics.com/doc/guide/web-streaming</a> (<a href="https://cyberbotics.com/doc/guide/starting-webots#command-line-arguments">Command Line Arguments</a>) (無法使用 Firefox 觀看)</p>
<p style="padding-left: 30px;">webotsw --stream</p>
<p style="padding-left: 30px;">使用 Edge 連線到 http://localhost:1234/index.html</p>
<p><a href="https://cyberbotics.com/doc/guide/interfacing-webots-to-third-party-software-with-tcp-ip">https://cyberbotics.com/doc/guide/interfacing-webots-to-third-party-software-with-tcp-ip</a></p>
<p><a href="https://felipenmartins.github.io/Robotics-Simulation-Labs/">https://felipenmartins.github.io/Robotics-Simulation-Labs/</a></p>
<hr/>
<h4>Webots_ex</h4>
<p>Webots 最新版可直接從 <a href="https://github.com/cyberbotics/webots/releases">https://github.com/cyberbotics/webots/releases</a> 下載.</p>
<p>Stable version: <a href="http://229.cycu.org/Webots_2023b.7z">Webots_2023b.7z</a></p>
<p>使用授權: <a href="https://cyberbotics.com/doc/guide/webots-license-agreement">https://cyberbotics.com/doc/guide/webots-license-agreement</a></p>
<p>Webots Source Code<br/><br/>Webots is released under the terms of the Apache 2.0 license agreement. Apache 2.0 is a industry friendly, non-contaminating, permissive open source license that grants everyone the right to use a software source code, free of charge, <span style="background-color: #ffff00;">for any purpose, including commercial applications</span>.</p>
<p>Webots Sample Simulations</p>
<p>Webots sample simulations include world files, robot and object models, robot controllers, plugins, libraries, etc. Generally, all the sample simulations source files distributed with Webots have a license header referring to the Apache 2.0 license, except for a few robot and object assets (proto files) which are distributed under the terms of the open source Webots Assets license agreement and a few sample simulations which were contributed by users under various license agreements, mostly open source ones. In any case, the license agreement is explicitly included in the corresponding files and/or folders.</p>
<p>Webots 原始碼</p>
<p>Webots 是根據 Apache 2.0 授權協議發布的。Apache 2.0 是一個對產業友善、非強制衍生性的寬鬆開源授權，讓所有人都有權利免費使用軟體原始碼，<span style="background-color: #ffff00;">可用於任何目的，包括商業應用</span>。</p>
<p>Webots 範例模擬</p>
<p>Webots 範例模擬包含場景檔案、機器人和物件模型、機器人控制器、外掛程式、程式庫等。一般來說，所有隨 Webots 發布的範例模擬原始檔都有引用 Apache 2.0 授權的授權標頭，但有少數機器人和物件資產（proto 檔案）是根據開源的 Webots Assets 授權協議發布，還有一些由使用者貢獻的範例模擬則是根據各種授權協議發布，大多是開源授權。無論如何，相關授權協議都明確包含在對應的檔案和/或資料夾中。</p>
<hr/>
<p><a href="https://github.com/cyberbotics/webots/tree/released/resources/translations">https://github.com/cyberbotics/webots/tree/released/resources/translations</a> 中並沒有繁體中文翻譯, 但建議使用英文版即可.</p>
<p>自行編譯 Webots 導引: <a href="https://github.com/cyberbotics/webots/wiki">https://github.com/cyberbotics/webots/wiki</a></p>
<p>自行建立網際模擬伺服器導引: <a href="https://cyberbotics.com/doc/guide/web-server">https://cyberbotics.com/doc/guide/web-server</a></p>
<hr/>
<p>操作教學: <a href="https://cyberbotics.com/doc/guide/tutorials">https://cyberbotics.com/doc/guide/tutorials</a></p>
<p>導入 STL 模型: <a href="https://cyberbotics.com/doc/reference/mesh">https://cyberbotics.com/doc/reference/mesh</a></p>
<p>使用 C 執行控制: <a href="https://cyberbotics.com/doc/guide/using-c">https://cyberbotics.com/doc/guide/using-c</a></p>
<p>使用 Python 執行控制: <a href="https://cyberbotics.com/doc/guide/using-python">https://cyberbotics.com/doc/guide/using-python</a></p>
<hr/>
<p>References:</p>
<p style="padding-left: 30px;"><a href="https://felipenmartins.github.io/Robotics-Simulation-Labs/">https://felipenmartins.github.io/Robotics-Simulation-Labs/</a>　</p>
<p style="padding-left: 30px;"><a href="https://courses.ideate.cmu.edu/16-375/f2022/ref/text/resources/Webots.html">https://courses.ideate.cmu.edu/16-375/f2022/ref/text/resources/Webots.html</a></p>
<p style="padding-left: 30px;"><a href="https://courses.ideate.cmu.edu/16-375/f2024/text/simulations/index.html">https://courses.ideate.cmu.edu/16-375/f2024/text/simulations/index.html</a></p>
<p style="padding-left: 30px;"><a href="https://www.bx.psu.edu/~thanh/naoqi/software/webots/webots_index.html">https://www.bx.psu.edu/~thanh/naoqi/software/webots/webots_index.html</a></p>
<p style="padding-left: 30px;"><a href="https://uclalemur.com/">https://uclalemur.com/</a></p>
<p style="padding-left: 30px;"><a href="https://www.cs.csubak.edu/~wli/Wei_Li_Tch/CS_456/456_LAB/Guide.pdf">https://www.cs.csubak.edu/~wli/Wei_Li_Tch/CS_456/456_LAB/Guide.pdf</a> </p>
<p style="padding-left: 30px;"><a href="https://www.udemy.com/course/learn-mobile-robotics-with-webots">https://www.udemy.com/course/learn-mobile-robotics-with-webots</a></p>
<p style="padding-left: 30px;"><a href="https://robmosys.eu/">https://robmosys.eu/</a></p>
<p style="padding-left: 30px;"><a href="https://opendr.eu/robotic-simulations-on-the-web-education-dissemination-and-competition-organization/">https://opendr.eu/robotic-simulations-on-the-web-education-dissemination-and-competition-organization/</a></p>
<p style="padding-left: 30px;"><a href="https://www.innovationplace.eu/project/open-source-3d-robot-simulator-with-web-interface-helps-industries-to-implement-digital-twin-models/2957">https://www.innovationplace.eu/project/open-source-3d-robot-simulator-with-web-interface-helps-industries-to-implement-digital-twin-models/2957</a></p>
<p style="padding-left: 60px;">A Swiss company developed a realistic robot simulator which can be used to simulate various digital twin scenarios involving mobile robots, robotics arms, drones, autonomous vehicles, industrial processes, etc. Sensors and actuators can be modeled, such as cameras, lidars, laser range-finder, etc. Robots are controlled by intelligent programs processing sensor data with AI algorithms. The software is fully open-source, runs on the desktop and features a cloud-based 3D web interface.</p>
<p style="padding-left: 60px;">這家瑞士公司開發了一款逼真的機器人模擬器，可用於模擬包括移動機器人、機械手臂、無人機、自動駕駛車輛、工業製程等各種數位分身的情境。此模擬器可以模擬各種感測器和致動器，例如攝影機、光達、雷射測距儀等。機器人由智慧程式控制，透過人工智慧演算法處理感測器數據。這款軟體完全開源，可在桌面電腦上執行，並提供基於雲端的 3D 網頁介面。</p>
<p style="padding-left: 60px;">這家中小企業開發的 Webots 軟體是一款開源且跨平台的桌面應用程式，用於模擬機器人。它提供完整的開發環境，可用於建模、程式設計和模擬機器人。該軟體專為專業用途設計，在工業、教育和研究領域被廣泛使用。自 1998 年以來，這家中小企業持續將 Webots 作為其主要產品進行維護。該軟體最初是在瑞士洛桑聯邦理工學院（EPFL）開發的。</p>
<p style="padding-left: 60px;">Webots 可用於建立機器人原型、開發、測試和驗證人工智慧和控制演算法、教授學生機器人學等。使用者可以利用豐富的 Webots 資產庫（包含機器人、感測器、致動器、物件和材質）輕鬆設計完整的機器人模擬。軟體支援匯入現有的 CAD 模型（來自 Blender 或通用機器人描述格式 URDF）以及 OpenStreetMap 地圖。現代化的圖形使用者介面讓使用者可以編輯他們的模擬和機器人控制器，節省機器人專案開發時間。</p>
<p style="padding-left: 60px;">使用者可以建立各種類型的模擬，包括雙輪桌面機器人、工業機械臂、雙足機器人、多足機器人、模組化機器人、汽車、飛行無人機、水下自主載具、履帶式機器人、航太載具等。他們可以設置室內或室外的互動環境。這些數位分身模型可用於建立對應實體系統的虛擬原型，並在模擬中測試各種改進。如果模擬中測試的改進顯示出效益，就可以實作到實體系統中。數位分身原型方法提供多項優勢，包括更好的系統功能溝通、更快速且更經濟的系統改進探索，以及包含持續整合的更有效率開發工作流程。</p>
<p style="padding-left: 60px;">Webots 的核心是基於現代圖形使用者介面（基於 Qt 函式庫）、物理引擎（基於開放動力學引擎 ODE 的分支版本）和基於 OpenGL 3.3 函式庫的 3D 渲染引擎的組合。它可在 Windows、Linux 和 macOS 上執行。Webots 模擬可匯出為影片、互動式 HTML 場景或動畫，甚至可以 3D 形式串流至網頁。機器人可以使用簡單的 API 以不同程式語言進行程式設計，如 C、C++、Python、Java、MATLAB 或 ROS，涵蓋所有基本的機器人需求。Webots 提供網頁介面（展示於 https://webots.cloud），可在雲端執行模擬、播放 3D 動畫，以及展示場景和物件。</p>
<p style="padding-left: 60px;">透過這家中小企業開發的工具，使用者可以：</p>
<p style="padding-left: 60px;">1. 受惠於高品質的免費開源技術來模擬機器人系統。</p>
<p style="padding-left: 60px;">2. 輕鬆將模擬、3D 動畫和 3D 模型匯出至網頁，以便與同事、合作夥伴、客戶和大眾分享。</p>
<p style="padding-left: 60px;">3. 受惠於這家瑞士中小企業的專業知識，該企業積極支援 Webots 軟體，並為客戶提供顧問諮詢和客製化開發服務。</p>
<p style="padding-left: 60px;">4. 善用 Webots 使用者社群的貢獻，社群會分享機器人、感測器、致動器、物件、環境、基準測試、控制器程式等模型。</p>
<p style="padding-left: 60px;">5. 可以透過 https://webots.cloud/competition 輕鬆舉辦機器人挑戰賽和程式設計競賽。</p>
<h3>Webots_ref</h3>
<p><a href="https://robotics.stackexchange.com/search?q=webots">https://robotics.stackexchange.com/search?q=webots</a></p>
<p><a href="https://cyberbotics.com/doc/guide/tutorial-1-your-first-simulation-in-webots">https://cyberbotics.com/doc/guide/tutorial-1-your-first-simulation-in-webots</a></p>
<p><a href="https://cyberbotics.com/doc/guide/sample-webots-applications">https://cyberbotics.com/doc/guide/sample-webots-applications</a></p>
<p><a href="https://webots.cloud/competition">https://webots.cloud/competition</a></p>
<p><a href="https://felipenmartins.github.io/Robotics-Simulation-Labs/">https://felipenmartins.github.io/Robotics-Simulation-Labs/</a></p>
<p><a href="https://www.instructables.com/Vacuum-Cleaner-Robot-in-Webots/">https://www.instructables.com/Vacuum-Cleaner-Robot-in-Webots/</a></p>
<p><a href="https://medium.com/@albert.brucelee/introduction-to-webots-robot-simulator-and-e-puck-robot-8a2e2b5d22a9">https://medium.com/@albert.brucelee/introduction-to-webots-robot-simulator-and-e-puck-robot-8a2e2b5d22a9</a></p>
<p><a href="https://ardupilot.org/dev/docs/sitl-with-webots.html">https://ardupilot.org/dev/docs/sitl-with-webots.html</a></p>
<p><a href="https://www.cyberbotics.com/doc/guide/tinkerbots?version=R2019a">https://www.cyberbotics.com/doc/guide/tinkerbots?version=R2019a</a></p>
<p><a href="https://www.cyberbotics.com/doc/discord/technical-questions?version=master">https://www.cyberbotics.com/doc/discord/technical-questions?version=master</a></p>
<p><a href="https://www.cyberbotics.com/doc/discord/development?version=master">https://www.cyberbotics.com/doc/discord/development?version=master</a></p>
<p><a href="https://youtu.be/gyAVOrX_IMk?si=MZQ8uQg1Ns1UxdCb">https://youtu.be/gyAVOrX_IMk?si=MZQ8uQg1Ns1UxdCb</a></p>
<p><a href="https://www.youtube.com/watch?v=bfsJFwryga4">https://www.youtube.com/watch?v=bfsJFwryga4</a></p>
<h2>Solvespace</h2>
<p>Web-based Solvespace: <a href="https://cad.apps.dgramop.xyz/">https://cad.apps.dgramop.xyz/</a> (<a href="https://solvespace.com/forum.pl?action=viewthread&amp;parent=2369&amp;tt=1718121481">source</a> and <a href="https://github.com/solvespace/solvespace/pull/1275">PR</a>)</p>
<p><a href="https://github.com/solvespace/solvespace/pull/493">Python related PR</a></p>
<p>在 <a href="http://229.cycu.org/python_2025_lite.7z">python_2025_lite.7z</a><span> 加入以下說明的 msys2 與 cmake 後, 可用來編譯 Solvespace v3.1 版原始碼的可攜套件 <a href="http://229.cycu.org/python_2025_lite_w_msys_cmake_solvespace.7z">python_2025_lite_w_msys_cmake_solvespace.7z</a> (Download 1.96GB, After extracted 3.7GB)</span></p>
<hr/>
<p>Solvespace 採 C++ 編寫, 原始碼位於 <a href="https://github.com/solvespace/solvespace">https://github.com/solvespace/solvespace</a>, 以下將採用可攜程式系統 python_2025 中的 msys2 (<a href="http://229.cycu.org/python_2025/data/msys64_20240507.7z">msys64_20240507.7z</a>) 以及 cmake 3.20.1 進行編譯 (若採用目前最新版的 cmake 3.30.2, 必須對 Solvespace v3.1 中的 CMakeLists.txt 進行修改).</p>
<p>舊版的 cmake 3.21.0 可以利用下列連結取得:</p>
<p><a href="https://github.com/Kitware/CMake/releases/download/v3.21.0/cmake-3.21.0-windows-x86_64.zip">https://github.com/Kitware/CMake/releases/download/v3.21.0/cmake-3.21.0-windows-x86_64.zip</a> </p>
<p><a href="http://229.cycu.org/python_2025/data/msys64_20240507.7z">msys64_20240507.7z</a> (下載到 data 目錄下後, 目錄名稱必須改為 msys64) 則必須安裝 mingw32-make:</p>
<p>(安裝以下 make 套件前, 必須先執行 msys64 中的 mingw64.exe)</p>
<p>pacman -S mingw-w64-ucrt-x86_64-make</p>
<p>最新版的 python_2025 可攜程式環境架構位於: <a href="https://github.com/mdecycu/pyhton_2025">https://github.com/mdecycu/pyhton_2025</a>, 各目錄套件可自行根據 <a href="https://mde.tw/cad2024/content/Python.html">https://mde.tw/cad2024/content/Python.html</a> 中的說明下載, 或者自行配置.</p>
<p>機械設計工程師採用可攜程式套件的原因, 是希望能彈性配置 Python 版本, 因為大多數主流 CAD/E/M 套件都非開源軟體, 各版本的 API 相關的動態連結程式庫, 都採用特定的 Python 版本程式碼編譯而成. 例如: Siemens NX12 採用 Python 3.6.5, NX1872 採用 Python 3.7.1, NX1980 採用 Python 3.8.8, NX2312 使用 Python 3.10.12. 假如採用可攜程式套件, 除了可以如虛擬 Python 環境一樣, 將能配合 NXOpen 程式開發, 將所需的 Python 版本與相關模組放在同一目錄, 且能夠在不同的 64 位元 Windows 操作系統中執行.</p>
<p>接著取得 Solvespace v3.1 的原始碼, 可以直接從 <a href="https://github.com/solvespace/solvespace/releases">https://github.com/solvespace/solvespace/releases</a> 取得, 或以 以 git clone --recurse-submodules <a href="https://github.com/solvespace/solvespace.git">https://github.com/solvespace/solvespace.git</a> 之後,</p>
<p>cd solvespace</p>
<p>git checkout v3.1</p>
<p>接下來則必須修改 solvespace\extlib\angle\src\libANGLE\HandleAllocator.cpp 加入標頭檔案:</p>
<p>#include &lt;limits&gt;</p>
<p>接著就可以進行程式碼的編譯與連結:</p>
<p>mkdir build</p>
<p>cd build</p>
<p>cmake .. -G "MinGW Makefiles" -DCMAKE_BUILD_TYPE=Release</p>
<p>mingw32-make</p>
<p>完成編譯後, solvespace.exe 即位於 build\bin 目錄中, 執行時則需要 libwinpthread-1.dll 動態連結程式庫.</p>
<p>進行上述流程編譯的原始碼 <a href="http://229.cycu.org/solvespace_v3.1_src.7z">solvespace_v3.1_src.7z</a>, 以及編譯完成的 <a href="http://229.cycu.org/solvespace_v3.1_msys2.7z">solvespace_v3.1_msys2.7z</a>.</p>
<h3>Learn_Solvs</h3>
<p><a href="https://youtu.be/IlY1YFid8HA?si=bbryzq7P-Z_vR9Rc">https://youtu.be/IlY1YFid8HA?si=bbryzq7P-Z_vR9Rc</a></p>
<p><a href="https://chromamine.com/2024/07/3d-cad-with-solvespace/">https://chromamine.com/2024/07/3d-cad-with-solvespace/</a></p>
<p><a href="https://www.youtube.com/watch?v=xAqSddiK5MQ&amp;list=PLWNz5TggYhO1mMihPAIPvozJkNN828FaI">https://thenybble.de/posts/solvespace-mini-tutorial/ </a></p>
<p><a href="https://www.youtube.com/watch?v=xAqSddiK5MQ&amp;list=PLWNz5TggYhO1mMihPAIPvozJkNN828FaI">Solvespace Tutorial</a></p>
<p><a href="https://www.youtube.com/watch?v=ckkGfngoSaE&amp;list=PLGAjLwYQPgaBafzQTLA84IkTOptOdIsUX">Solvespace Challenge</a> (<a href="https://www.youtube.com/watch?v=PwBSwkW3oPo&amp;list=PLluslK6uBf4sUY_SgOZhBTb_5Vs-XMHZ6">2</a>)</p>
<h2>Pyslvs-UI</h2>
<p><a href="https://github.com/KmolYuan/Pyslvs-UI">https://github.com/KmolYuan/Pyslvs-UI</a></p>
<p><a href="https://github.com/KmolYuan/pyslvs">https://github.com/KmolYuan/pyslvs</a> (A no-GUI module of mechanism synthesis system and a 2D geometric constraint solver)</p>
<h2>PICSimLab</h2>
<p><a href="https://github.com/lcgamboa/picsimlab">https://github.com/lcgamboa/picsimlab</a></p>
<h2>Fossil SCM</h2>
<p><a href="https://fossil-scm.org">https://fossil-scm.org</a></p>
<h2>Leo Editor</h2>
<p><a href="https://leo-editor.github.io">https://leo-editor.github.io</a></p>
<p></p>
<h1>Brython</h1>
<p><a href="https://en.wikipedia.org/wiki/Python_(programming_language)">https://en.wikipedia.org/wiki/Python_(programming_language)</a></p>
<h4>Examples:</h4>
<p style="padding-left: 30px;"><a href="https://gist.github.com/mdecycu/d9082d678096bd58378d6afe2c7fa05d">https://gist.github.com/mdecycu/d9082d678096bd58378d6afe2c7fa05d</a></p>
<p style="padding-left: 30px;"><a href="https://www.geeksforgeeks.org/python-programming-examples/">https://www.geeksforgeeks.org/python-programming-examples/</a></p>
<p style="padding-left: 30px;"><a href="https://www.programiz.com/python-programming/examples">https://www.programiz.com/python-programming/examples</a></p>
<p style="padding-left: 30px;"><a href="https://www.freecodecamp.org/news/python-code-examples-sample-script-coding-tutorial-for-beginners/">https://www.freecodecamp.org/news/python-code-examples-sample-script-coding-tutorial-for-beginners/</a></p>
<h4>Python Tutorial:</h4>
<p style="padding-left: 30px;"><a href="https://docs.python.org/3/tutorial/">https://docs.python.org/3/tutorial/</a></p>
<p style="padding-left: 30px;"><a href="https://docs.python.org/3/tutorial/introduction.html">An informal introduction to Python</a></p>
<h4>Indentation (Python 採 4 個 Spaces 縮排, 以界定執行範圍)</h4>
<h4>Variables (<a href="https://github.com/python/cpython/blob/3.11/Lib/keyword.py">Python Keywords</a>)</h4>
<h4>Comments (# 單行註解, 三個單引號或三個雙引號標註多行註解)</h4>
<h4><a href="https://docs.python.org/3/tutorial/introduction.html#numbers">Numbers</a> (整數 int(), 浮點數 float())</h4>
<h4><a href="https://docs.python.org/3/tutorial/introduction.html#strings">Strings</a> (字串)</h4>
<h4>print (Python 內建函式, <a href="https://docs.python.org/3/library/functions.html#print">print()</a> 函式)</h4>
<p><a href="https://docs.python.org/3/tutorial/controlflow.html">Python control flow tools</a></p>
<h4 style="padding-left: 30px;"><a href="https://docs.python.org/3/tutorial/controlflow.html#for-statements">for</a></h4>
<h4 style="padding-left: 30px;"><a href="https://docs.python.org/3/tutorial/controlflow.html#if-statements">if</a></h4>
<h4 style="padding-left: 30px;"><a href="https://docs.python.org/3/tutorial/controlflow.html#the-range-function">range</a></h4>
<h4>open</h4>
<h4>read</h4>
<h4><a href="https://docs.python.org/3/tutorial/introduction.html#lists">lists</a></h4>
<h4><a href="https://docs.python.org/3/tutorial/datastructures.html#tuples-and-sequences">tuples</a></h4>
<h4><a href="https://docs.python.org/3/tutorial/datastructures.html#dictionaries">dictionaries</a></h4>
<h4><a href="https://docs.python.org/3/tutorial/controlflow.html#defining-functions">functions</a></h4>
<h4><a href="https://docs.python.org/3/tutorial/errors.html#exceptions">try ... except</a></h4>
<h4><a href="https://docs.python.org/3/tutorial/controlflow.html#break-and-continue-statements-and-else-clauses-on-loops">break</a></h4>
<h4><a href="https://docs.python.org/3/tutorial/controlflow.html#pass-statements">pass</a></h4>
<h4><a href="https://docs.python.org/3/tutorial/classes.html?highlight=classes">classes</a></h4>
<p>這個頁面 demo 如何在同一頁面下納入多個線上 Ace 編輯器與執行按鈕 (<a href="/downloads/practice_html.txt">practice_html.txt</a> 動態頁面超文件).</p>
<p><a href="/downloads/practice_html.txt">practice_html.txt</a> 動態頁面超文件應該可以在啟動 Brython 時, 設定將 .py 檔案放入 downloads/py 目錄中引用.</p>
<p>亦即將所有對應的 html 也使用 Brython 產生, 然後寫為 <a href="https://docs.python.org/3/tutorial/classes.html">class</a> 後, 在範例導入時透過 <a href="https://docs.python.org/3/tutorial/classes.html#instance-objects">instance</a> 引用.</p>
<pre class="brush:html;auto-links:false;toolbar:false" contenteditable="false">&lt;!-- 啟動 Brython --&gt;
&lt;script&gt;
window.onload=function(){
brython({debug:1, pythonpath:['/static/','./../downloads/py/']});
}
&lt;/script&gt;</pre>
<p>從 1 累加到 100:</p>
<p><button id="add1to100">1 add to 100</button></p>
<p>將 iterable 與 iterator <a href="https://home.gamer.com.tw/creationDetail.php?sn=4337438">相關說明</a>, 利用 Brython 與 Ace Editor 整理在這個頁面.</p>
<!-- 導入 brython 程式庫 -->
<p>
<script src="/static/brython.js"></script>
<script src="/static/brython_stdlib.js"></script>
</p>
<!-- 啟動 Brython -->
<p>
<script>
window.onload=function(){
brython({debug:1, pythonpath:['/static/','./../downloads/py/']});
}
</script>
</p>
<p><!-- 導入 FileSaver 與 filereader --></p>
<p>
<script src="/static/ace/FileSaver.min.js" type="text/javascript"></script>
<script src="/static/ace/filereader.js" type="text/javascript"></script>
</p>
<p><!-- 導入 ace --></p>
<p>
<script src="/static/ace/ace.js" type="text/javascript"></script>
<script src="/static/ace/ext-language_tools.js" type="text/javascript"></script>
<script src="/static/ace/mode-python3.js" type="text/javascript"></script>
<script src="/static/ace/snippets/python.js" type="text/javascript"></script>
</p>
<p><!-- 導入 gearUtils-0.9.js Cango 齒輪繪圖程式庫 -->
<script src="/static/Cango-24v03-min.js"></script>
<script src="/static/gearUtils-09.js"></script>
<script src="/static/SVGpathUtils-6v03-min.js"></script>
<script src="/static/sylvester.js"></script>
<script src="/static/PrairieDraw.js"></script>
</p>
<p><!-- 請注意, 這裡使用 Javascript 將 localStorage["kw_py_src1"] 中存在近端瀏覽器的程式碼, 由使用者決定存檔名稱--></p>
<p>
<script type="text/javascript">
function doSave(storage_id, filename){
    var blob = new Blob([localStorage[storage_id]], {type: "text/plain;charset=utf-8"});
    filename = document.getElementById(filename).value
    saveAs(blob, filename+".py");
}
</script>
</p>
<p>
<script type="text/python3">
from browser import document as doc
import ace
# 清除畫布
def clear_bd1(ev):
    bd = doc["brython_div1"]
    bd.clear()
Ace1 = ace.Editor(editor_id="kw_editor1", console_id="kw_console1", container_id="kw__container1", storage_id="kw_py_src1" )
# 從 gist 取出程式碼後, 放入 editor 作為 default 程式
def run1():
    # 利用 get 取下 src 變數值
    try:
        url = doc.query["src"]
    except:
        url = "https://gist.githubusercontent.com/mdecourse/0229a8a017091476a79700b8a190f185/raw/c3a6deaf717f8f2739a4b1392a5ab10936e9693a/from_1_add_to_10_1.py"
    prog = open(url).read()

    # 將程式載入編輯區
    Ace1.editor.setValue(prog)
    Ace1.editor.scrollToRow(0)
    Ace1.editor.gotoLine(0)
    # 直接執行程式
    #ns = {'__name__':'__main__'}
    #exec(prog, ns)
    # 按下 run 按鈕
    Ace1.run()

# 執行程式, 顯示輸出結果與清除輸出結果及對應按鈕綁定
doc['kw_run1'].bind('click', Ace1.run)
doc['kw_show_console1'].bind('click', Ace1.show_console)
doc['kw_clear_console1'].bind('click', Ace1.clear_console)
doc['clear_bd1'].bind('click', clear_bd1)
# 呼叫函式執行
run1()
</script>
</p>
<p><!-- add 1 to 100 開始 -->
<script type="text/python3">
from browser import document as doc
import ace

# 清除畫布
def clear_bd1(ev):
    bd = doc["brython_div1"]
    bd.clear()

# 利用 ace 中的 Editor 建立 Ace2 物件, 其中的輸入變數分別對應到頁面中的編輯區物件
Ace2 = ace.Editor(editor_id="kw_editor1", console_id="kw_console1", container_id="kw__container1", storage_id="kw_py_src1" )

add1to100_url = "https://gist.githubusercontent.com/mdecourse/0229a8a017091476a79700b8a190f185/raw/c48e37714f055c3a0027cbfef59e442a6ef659b9/from_1_add_to_100_1.py"

# 從 gist 取得程式碼
add_src = open(add1to100_url).read()
def add(ev):
    Ace2.editor.setValue(add_src)
    Ace2.editor.scrollToRow(0)
    Ace2.editor.gotoLine(0)
    Ace2.run()

# id 為 "add1to100" 的按鈕點按時, 執行 add 方法
doc["add1to100"].bind('click', add)
</script>
</p>
<p><!-- add 1 to 100 結束--></p>
<!-- editor1 開始 -->
<p><!-- 用來顯示程式碼的 editor 區域 --></p>
<div id="kw_editor1" style="width: 600px; height: 300px;"></div>
<p><!-- 以下的表單與按鈕與前面的 Javascript doSave 函式以及 FileSaver.min.js 互相配合 --></p>
<p><!-- 存擋表單開始 --></p>
<form><label>Filename: <input id="kw_filename" placeholder="input file name" type="text"/>.py</label> <input onclick="doSave('kw_py_src1', 'kw_filename1');" type="submit" value="Save"/></form>
<p><!-- 存擋表單結束 --></p>
<p></p>
<p><!-- 執行與清除按鈕開始 --></p>
<p><button id="kw_run1">Run</button> <button id="kw_show_console1">Output</button> <button id="kw_clear_console1">清除輸出區</button><button id="clear_bd1">清除繪圖區</button><button onclick="window.location.reload()">Reload</button></p>
<p><!-- 執行與清除按鈕結束 --></p>
<p></p>
<p><!-- 程式執行 ouput 區 --></p>
<div style="width: 100%; height: 100%;"><textarea autocomplete="off" id="kw_console1"></textarea></div>
<p><!-- Brython 程式執行的結果, 都以 brython_div1 作為切入位置 --></p>
<div id="brython_div1"></div>
<!-- editor1 結束 --><hr/><!-- ########################################## -->
<p>從 1 累加到 100 part2:</p>
<p><button id="add1to100part2">1 add to 100</button><button id="cango_three_gears">cango_three_gears</button><button id="bsnake">BSnake</button><button id="aitetris">AI Tetris</button><button id="threejsblock">Rotating Block</button></p>
<p><!-- 請注意, 這裡使用 Javascript 將 localStorage["kw_py_src2"] 中存在近端瀏覽器的程式碼, 由使用者決定存檔名稱--></p>
<p>
<script type="text/python3">
from browser import document as doc
import ace
# 清除畫布
def clear_bd2(ev):
    bd = doc["brython_div2"]
    bd.clear()
Ace3 = ace.Editor(editor_id="kw_editor2", console_id="kw_console2", container_id="kw__container2", storage_id="kw_py_src2" )
# 從 gist 取出程式碼後, 放入 editor 作為 default 程式
def run2():
    # 利用 get 取下 src 變數值
    try:
        url = doc.query["src2"]
    except:
        url = "https://gist.githubusercontent.com/mdecourse/0229a8a017091476a79700b8a190f185/raw/c3a6deaf717f8f2739a4b1392a5ab10936e9693a/from_1_add_to_10_1.py"
    prog = open(url).read()

    # 將程式載入編輯區
    Ace3.editor.setValue(prog)
    Ace3.editor.scrollToRow(0)
    Ace3.editor.gotoLine(0)
    # 直接執行程式
    #ns = {'__name__':'__main__'}
    #exec(prog, ns)
    # 按下 run 按鈕
    Ace3.run()

# 執行程式, 顯示輸出結果與清除輸出結果及對應按鈕綁定
doc['kw_run2'].bind('click', Ace3.run)
doc['kw_show_console2'].bind('click', Ace3.show_console)
doc['kw_clear_console2'].bind('click', Ace3.clear_console)
doc['clear_bd2'].bind('click', clear_bd2)
# 呼叫函式執行
run2()
</script>
</p>
<p><!-- add 1 to 100 part2 開始 -->
<script type="text/python3">
from browser import document as doc
import ace

# 清除畫布
def clear_bd2(ev):
    bd = doc["brython_div2"]
    bd.clear()

# 利用 ace 中的 Editor 建立 Ace2 物件, 其中的輸入變數分別對應到頁面中的編輯區物件
Ace4 = ace.Editor(editor_id="kw_editor2", console_id="kw_console2", container_id="kw__container2", storage_id="kw_py_src2" )

# 透過 Ace4 以類別建立一個通用的 button2, 可以在多個案例中將 gist 程導入編輯區

class button2:
    def __init__(self, url):
        self.url = url

    # 記得加入 event 輸入變數
    def do(self,ev):
        Ace4.editor.setValue(open(self.url).read())
        Ace4.editor.scrollToRow(0)
        Ace4.editor.gotoLine(0)
        Ace4.run()

add1to100_url = "https://gist.githubusercontent.com/mdecourse/0229a8a017091476a79700b8a190f185/raw/c48e37714f055c3a0027cbfef59e442a6ef659b9/from_1_add_to_100_1.py"

# 從 gist 取得程式碼
add_src = open(add1to100_url).read()
def add2(ev):
    Ace4.editor.setValue(add_src)
    Ace4.editor.scrollToRow(0)
    Ace4.editor.gotoLine(0)
    Ace4.run()

# id 為 "add1to100part2" 的按鈕點按時, 執行 add 方法
doc["add1to100part2"].bind('click', add2)
# 以下為運用 button2 class 的通用 gist 程式導入區
################################## cango_three_gears start
cango_three_gears_url = "https://gist.githubusercontent.com/mdecycu/d9082d678096bd58378d6afe2c7fa05d/raw/f7a85d737d6723d5e34c526d5daee990ed92c32b/cango_three_gears_brython_div2.py"
cango_three_gears = button2(cango_three_gears_url)
doc["cango_three_gears"].bind("click", cango_three_gears.do)
################################## cango_three_gears end
################################## bsnake start
bsnake_url = "https://gist.githubusercontent.com/mdecycu/d9082d678096bd58378d6afe2c7fa05d/raw/f7a85d737d6723d5e34c526d5daee990ed92c32b/kmol_snakey.py"
bsnake = button2(bsnake_url)
doc["bsnake"].bind("click", bsnake.do)
################################## bsnake end
################################## aitetris start
aitetris_url = "https://gist.githubusercontent.com/mdecycu/d9082d678096bd58378d6afe2c7fa05d/raw/f7a85d737d6723d5e34c526d5daee990ed92c32b/pygame_to_brython_tetris_ai.py"
aitetris = button2(aitetris_url)
doc["aitetris"].bind("click", aitetris.do)
################################## aitetris end
################################## threejsblock start
threejsblock_url = "https://gist.githubusercontent.com/mdecycu/2c6323eff49b496d1bafd210f3ec9707/raw/df37802f9e8a386b6424f7945af622b1cd0a9ca5/threejs_rotating_block.py"
threejsblock = button2(threejsblock_url)
doc["threejsblock"].bind("click", threejsblock.do)
################################## threejsblock end
</script>
</p>
<p><!-- add 1 to 100 part2 結束--></p>
<!-- editor2 開始 -->
<p><!-- 用來顯示程式碼的 editor 區域 --></p>
<div id="kw_editor2" style="width: 600px; height: 300px;"></div>
<p><!-- 以下的表單與按鈕與前面的 Javascript doSave 函式以及 FileSaver.min.js 互相配合 --></p>
<p><!-- 存擋表單開始 --></p>
<form><label>Filename: <input id="kw_filename2" placeholder="input file name" type="text"/>.py</label> <input onclick="doSave('kw_py_src2', 'kw_filename2');" type="submit" value="Save"/></form>
<p><!-- 存擋表單結束 --></p>
<p></p>
<p><!-- 執行與清除按鈕開始 --></p>
<p><button id="kw_run2">Run</button> <button id="kw_show_console2">Output</button> <button id="kw_clear_console2">清除輸出區</button><button id="clear_bd2">清除繪圖區</button><button onclick="window.location.reload()">Reload</button></p>
<p><!-- 執行與清除按鈕結束 --></p>
<p></p>
<p><!-- 程式執行 ouput 區 --></p>
<div style="width: 100%; height: 100%;"><textarea autocomplete="off" id="kw_console2"></textarea></div>
<p><!-- Brython 程式執行的結果, 都以 brython_div1 作為切入位置 --></p>
<div id="brython_div2"></div>
<!-- editor2 結束 --><hr/>
<p>
<script src="https://unpkg.com/three@0.144.0/build/three.js" type="text/javascript"></script>
</p>